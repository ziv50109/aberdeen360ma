/*
	pathAnimator.js
	https://github.com/yairEO/pathAnimator
*/
function PathAnimator(b,c){b&&(this.len=this.updatePath(b),this.timer=null,this.settings={duration:c.duration,step:c.step,reverse:!!c.reverse,startPercent:c.startPercent||0,onDone:c.onDone||function(){},easing:c.easing,fps:1E3/60})}PathAnimator.prototype={start:function(b,c){this.stop();this.percent=b=b||this.settings.startPercent||0;if(0==this.settings.duration)return!1;var a=this,g=new Date;c=c||100;(function h(){var d=[],e=(new Date-g)/1E3/a.settings.duration;"function"==typeof a.settings.easing&&(e=a.settings.easing(e));var f=b+e*(c-b);a.settings.reverse&&(f=b-e*(c-b),0>f&&(f=c+f));a.running=!0;a.percent=f;if(.999<e)return a.stop(),a.percent=c,a.settings.onDone();d[0]=a.pointAt(a.percent-1);d[1]=a.pointAt(a.percent+1);d=180*Math.atan2(d[1].y-d[0].y,d[1].x-d[0].x)/Math.PI;a.timer=setTimeout(h,a.settings.fps);a.settings.step(a.pointAt(a.percent),d)})()},stop:function(){clearTimeout(this.timer);this.timer=null;this.running=!1},stopAt:function(b){},pointAt:function(b){return this.path.getPointAtLength(this.len*b/100)},updatePath:function(b){!this.path&&b&&(this.path=document.createElementNS("http://www.w3.org/2000/svg","path"),this.path.setAttribute("d",b));return this.path.getTotalLength()}};